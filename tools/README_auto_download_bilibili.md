# Bilibili音频下载工具

## 功能概述

这是一个自动化工具，用于从Bilibili视频中提取并下载高质量音频文件。该工具能够：

1. 根据视频BV号从Bilibili下载视频中的音频部分
2. 自动将下载的音频转换为MP3格式
3. 使用AI模型智能分析文件名并进行标准化重命名
4. 支持单个视频下载和批量视频处理两种模式

## 依赖组件

1. Python 3.6+
2. yt-dlp（会自动检测并安装）
3. requests库
4. 有效的AI模型API密钥

## 配置参数

如果要使用可选参数`-AINAME`（AI重命名），则需要配置AI模型API密钥,在代码最前面的`AI_MODELS`部分配置模型名称、url、key、model_name信息，并在`-AINAME`后指定模型名称。


## 使用方法

### 单个视频下载（使用AI重命名）：

```bash
python auto_download_bilibili.py BV1es41127Fd -AINAME LLM
```

### 单个视频下载（不使用AI重命名）：

```bash
python auto_download_bilibili.py BV1es41127Fd
```

### 批量下载视频（使用AI重命名）：

1. 创建BVLIST.txt文件，每行一个BV号
2. 执行命令：

```bash
python auto_download_bilibili.py BVLIST -AINAME LLM
```

3. 下载的音频文件将保存在`../music_download`目录中


## 技术路线

### 1. 下载实现
- 使用`yt-dlp`开源工具作为核心下载引擎
- 自动检测并安装所需的依赖组件
- 通过命令行参数控制下载质量和格式转换

### 2. 批量处理
- 从BVLIST.txt文件中读取多个BV号
- 顺序处理每个视频的下载任务
- 统一存储管理下载的音频文件
- 适当设置任务间隔，避免触发网站限制

### 3. 智能重命名
- 调用AI大模型API（默认使用Deepseek）分析原始文件名
- 从文件名中智能提取歌曲名称和歌手信息
- 去除修饰词和描述性词语，保留核心信息
- 按照"歌曲名--歌手名"格式标准化文件命名
- 使用下划线替代空格，优化文件名兼容性

### 4. 错误处理
- 全面的异常捕获和错误报告机制
- 下载失败时提供明确的错误信息
- 在AI分析失败时保留原始文件名


## 注意事项

1. 需要配置有效的AI模型API密钥才能使用重命名功能